{% extends 'admin_layout.html' %}

{% block css %}

    <style type="text/css">
        .formCenter {
            width: 50%;
            margin: 0 auto;
            margin-top: 60px;
            text-align: center;
        }

        .textCenter {
            margin: 0 auto;
            margin-top: 10px;
            text-align: center;
        }

        .table-space {
            border-collapse: separate;
            border-spacing: 5px 15px; /* 水平间距 垂直间距 */

        }

        td {
            width: 180px;
            display: table-cell;
            text-align: center;
            vertical-align: middle;
        }

        .btn_center {
            margin: 0 auto;
            margin-top: 5px;
        }


    </style>


{% endblock %}

{% block content %}

    <!-- Start content-page -->
    <div class="content-page">

        <!-- Start content-bar -->
        <div class="content">

            <div class="container-fluid">

                <div class="row">
                    <div class="col-xl-12">
                        <div class="breadcrumb-holder">
                            <h1 class="main-title float-left">成员添加</h1>
                            <ol class="breadcrumb float-right">
                                <li class="breadcrumb-item"></li>
                                <li class="breadcrumb-item active"></li>
                            </ol>
                            <div class="clearfix"></div>
                        </div>
                    </div>
                </div>
                <!-- end row -->
            </div>

            <div class="form-control">
                提示：成员添加即生成新账户，密码默认设置为用户名。
            </div>
            <div class="card mb-3 formCenter">
                <div class="card-header">
                    <h3><i class="fa fa-user"></i> 添加个人信息</h3>
                </div>

                <div class="card-body ">
                    <form class="form-inline" method="POST" action="/admin_member_add/">
                        {% csrf_token %}
                        <table class="table-space" style="margin-right: 10px">
                            <tbody>
                            <tr>
                                <td><label>用户名</label></td>
                                <td>{{ addmemberForm.username }}</td>
                                <td><label>姓名</label></td>
                                <td>{{ addmemberForm.add_name }}</td>
                            </tr>

                            <tr>
                                <td><label>性别</label></td>
                                <td>
                                    {{ addmemberForm.add_gender }}
                                </td>
                                <td><label>政治面貌</label></td>
                                <td>
                                    {{ addmemberForm.add_status }}
                                </td>
                            </tr>

                            <tr>
                                <td colspan="4">
                                    <small class="formCenter">提示：其他账号信息由用户自行完善。</small>
                                </td>
                            </tr>

                            </tbody>
                        </table>
                        <div class="btn_center ">
                            <input type="submit" class="btn btn-info" value="提交">

                        </div>

                    </form>
                    <div class="textCenter ">
                        {% if info.flag == 'ok' %}
                            <span style="color: red">{{ info.name }}添加成功</span>
                        {% elif info.flag == 'exist' %}
                            <span style="color: red">该用户名已存在，{{ info.name }}添加失败</span>
                        {% endif %}
                        {% if addmemberForm.username.errors.0 %}
                            <span style="color: red">用户名格式有误,请重新输入</span>
                        {% endif %}
                        <span style="color: red">{{ addmemberForm.add_name.errors.0 }}</span>
                        <span style="color: red">{{ addmemberForm.add_gender.errors.0 }}</span>
                        <span style="color: red">{{ addmemberForm.add_status.errors.0 }}</span>
                    </div>
                </div>

            </div>


        </div>
        <!-- END content-bar -->

        <!-- Start content -->

        <!-- End content -->

    </div>
    <!-- End content-page -->

{% endblock %}

{% block js %}

    <script>
        $('#id_add_gender').attr('style', "width: 100%");
        $('#id_add_gender').attr('class', "form-control");
        $('#id_add_status').attr('style', "width: 100%");
        $('#id_add_status').attr('class', "form-control");
    </script>

{% endblock %}